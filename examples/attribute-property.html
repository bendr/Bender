<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bender | Example | Property in attribute</title>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="no-cache">
    <link rel="stylesheet" href="example.css">
    <script src="../flexo.js"></script>
    <script src="../bender.js"></script>
  </head>
  <body>
    <svg></svg>
    <script src="example.js"></script>
    <script>
"use strict";

var context = bender.create_context(document.querySelector("svg"));
var component = context.appendChild(
  context.$("component", { id: "c" },
    context.$("property", { name: "x", type: "number", value: "100" }),
    context.$("property", { name: "y", type: "number", value: "50" }),
    context.$("property", { name: "sz", type: "number", value: "200" }),
    context.$("property", { name: "color", value: "#ff4040" }),
    context.$("view",
    context.$("svg:rect#r", { x: "{x}", y: "{y}", width: "{sz}", height: "{sz}",
      fill: "{color}" }))));
var u = context.appendChild(context.$("use", { href: "#c" }));
flexo.listen(context.ownerDocument, "@refreshed", function (e) {
  if (e.instance.component === component) {
    setTimeout(function () {
      if (e.instance.views.r.getAttribute("fill") === "#ff4040") {
        example.ok();
      }
    }, 0);
  }
});
    </script>
  </body>
</html>
