<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bender | Example | Rendering | No view</title>
    <meta charset="UTF-8">
    <meta http-equiv="cache-control" content="no-cache">
    <link rel="stylesheet" href="../example.css">
    <script src="../../flexo.js"></script>
    <script src="../../bender.js"></script>
  </head>
  <body>
    <script src="../example.js"></script>
    <script>
"use strict";

console.log("Create context");
var context = bender.create_context();
console.log("Add main component");
var main = context.appendChild(
  context.$("component",
    context.$("component", { id: "no-view" },
      context.$("property", { name: "x" })),
    context.$("use", { href: "#no-view", x: "a", id: "nv" })));
console.log("Use component");
var use = context.appendChild(context.$("use"));
use._component = main;
flexo.listen(context.ownerDocument, "@refreshed", function (e) {
  console.log("Refreshed", e.instance.use);
  if (e.instance.component === main) {
    //setTimeout(function () {
      example.ok(e.instance.uses.nv.properties.x === "a");
    //}, 0);
  }
});

    </script>
  </body>
</html>
