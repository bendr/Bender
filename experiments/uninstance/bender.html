<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bender HTML Runtime</title>
    <meta charset="UTF-8">
    <style>
body {
  font-family: "Avenir Next", sans-serif;
}
    </style>
    <meta http-equiv="cache-control" content="no-cache">
    <script src="flexo.js"></script>
    <script src="core.js"></script>
    <script src="render.js"></script>
    <script src="graph.js"></script>
    <script src="xml.js"></script>
  </head>
  <body>
    <script>
"use strict";

bender.Component.on_handlers.init = function () {
  console.log("Init: %0 (%1)".fmt(this.__id, this.id()));
};

bender.Component.on_handlers.instantiate = function (instance, scope) {
  if (instance.__id) {
    console.log("Instantiate: %0 (%1)".fmt(instance.__id, instance.id()));
  } else {
    var c = instance.component;
    console.log("Instantiate: view of %0 (%1)".fmt(c.__id, c.id()));
  }
};

var args = flexo.get_args();
if (args.href) {
  bender.TRACE = flexo.is_true(args.trace);
  var env = bender.environment();
  bender.trace("*** Will load component at %0".fmt(args.href));
  env.load_component(args.href).then(function (component) {
    var instance = global.$ = component.render_instance();
    bender.trace("*** Rendered (%0)".fmt(instance.__id));
  }, function (error) {
    alert("Error: " + error.message || error);
  });
}

    </script>
  </body>
</html>
