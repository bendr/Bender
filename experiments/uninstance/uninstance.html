<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Uninstance 2: Electric Boogaloo</title>
    <meta charset="UTF-8">
    <style>
body {
  font-family: "Avenir Next", sans-serif;
}
    </style>
    <meta http-equiv="cache-control" content="no-cache">
    <script src="../../html/src/flexo.js"></script>
  </head>
  <body>
    <script src="core.js"></script>
    <script src="render.js"></script>
    <script>
"use strict";

/*
Component.on_handlers.init = function () {
  console.log("on:init", this);
};

Component.on_handlers.instantiate = function (view) {
  console.log("on:instantiate", this, view);
};

Component.on_handlers.render = function (stack) {
  console.log("on:render", this, stack);
};
*/

var environment = Object.create(Environment).init(window.document);
var C = environment.component().id("C")
  .child(View.create()
      .child(DOMElement.create(flexo.ns.html, "p")
        .child(TextNode.id("text").text("And this is a C."))))
  .on("init");
var B = environment.component().id("B")
  .child(View.create()
      .child(flexo.$p("This is a B."))
      .child(View.create()
        .child(environment.component().id("C1").prototype(C))
        .child(environment.component().id("C2").prototype(C))));
var A = environment.component().id("A")
  .child(View.create()
      .child(flexo.$p("This is A."))
      .child(View.create()
        .child(environment.component().id("B1").prototype(B))
        .child(environment.component().id("B2").prototype(B))));
var A_ = A.render_instance(document.body);

/*setTimeout(function () {
  hello.scope.view.add_child(flexo.$p("And hello again!"));
}, 1000);*/

    </script>
  </body>
</html>
