<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Uninstance 2: Electric Boogaloo</title>
    <meta charset="UTF-8">
    <style>
body {
  font-family: "Avenir Next", sans-serif;
}

div {
  border: solid thin #f80;
  padding: 1em;
}

div.outer {
  border-color: #08f;
}

div.inner {
  border-color: #0f8;
}
    </style>
    <meta http-equiv="cache-control" content="no-cache">
    <script src="../../html/src/flexo.js"></script>
  </head>
  <body>
    <script src="core.js"></script>
    <script src="render.js"></script>
    <script>
"use strict";

var env = bender.environment();

var outer = env.component().id("outer")
  .view(env.$div({ id: "div", "class": "outer" },
          env.$p({ id: "p" }, "Outer")));

var inner = env.component().id("inner")
  .view(env.$div({ "class": "inner" }, env.$p("Inner")));

var outer_ = outer.render_instance(document.body);

setTimeout(function () {
  // outer_.scope["@p"].insert_child(" (now with content)");
  // outer_.scope["@div"].insert_child(inner.instantiate());
  // TODO an instance should be created
  outer.scope["#p"].insert_child(" (now with content");
  outer.scope["#div"].insert_child(inner);
}, 1000);

    </script>
  </body>
</html>
