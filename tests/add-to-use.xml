<app xmlns="http://bender.igel.co.jp" xmlns:html="http://www.w3.org/1999/xhtml">
  <title>Add content to use element</title>
  <view>
    <html:p>Below is a list component<html:span id="nota"> (content will show
        up soon)</html:span>:</html:p>
    <use ref="list" id="list">
      <empty/>
    </use>
  </view>

  <watch>
    <get use="$self" event="@rendered">
      setTimeout((function() {
          flexo.safe_remove(this.component.querySelector("span"));
          this.uses.list.use.appendChild(this.component.$("use",
            { ref: "item" }));
          setTimeout((function() {
              this.uses.list.use.appendChild(this.component.$("use",
                { ref: "item" }, "And another item"));
            }).bind(this), 2000);
        }).bind(this), 2000);
      flexo.safe_remove(this.component.querySelector("watch"));
    </get>
  </watch>

  <component id="list">
    <view>
      <html:ul>
        <content>
          <use ref="item"/>
        </content>
      </html:ul>
    </view>
  </component>

  <component id="item">
    <view>
      <html:li>
        <content>This is a generic item</content>
      </html:li>
    </view>
  </component>

</app>
