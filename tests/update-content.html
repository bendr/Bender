<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Update content of a use element</title>
    <meta charset="UTF-8">
    <style>
      body { font-family: "Helvetica Neue", Helvetica, sans-serif; }
      #here { border: dashed thin #888; padding: 8px; }
    </style>
    <script src="../flexo.js"></script>
    <script src="../bender.js"></script>
  </head>
  <body>
    <div id="here"></div>
    <script>

      bender.DEBUG_LEVEL = 1;

      var context = bender.create_context(document, "built");

      var use = context.elem("use", { href: "../lib/push-button.xml#button" },
        "Update label");
      context.documentElement.appendChild(use);
      use.render_in(document.getElementById("here"));
      flexo.listen(use, "@rendered", function() {
          flexo.listen(use.instance, "@pushed", update_label);
        });

      function update_label(event)
      {
        var u = event.source.use;
        u.set_text_content(u.textContent + "*");
        flexo.log(u);
      }

    </script>
  </body>
</html>

