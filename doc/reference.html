<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Bender | Reference</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="bender.css">
    <script src="../core/flexo.js"></script>
    <script src="../core/bender.js"></script>
    <script src="doc.js"></script>
  </head>
  <body>
    <h1>Bender | Reference</h1>

    <p class="TODO">This is a work in progress and is very incomplete at the
    moment. Thank you for your interest! Please <a
    href="mailto:bender@igel.co.jp">contact us</a> for comments, questions,
    etc.</p>

    <p>This is the reference manual for Bender v0.2.2.</p>

    <nav id="toc">
      <h2>Table of Contents</h2>
    </nav>

    <section id="running">
      <h2>Running a Bender application</h2>
      <p>To run an HTML application, point your browser to:</p>
      <pre class="code">$BENDER_HOME/core/bender.html?app=$RELATIVE_PATH</pre>
      <p>where <code>$RELATIVE_PATH</code> is the path to the description file
      of the application that you wish to run (on the same server as Bender),
      relative to <code>$BENDER_HOME</code>. You may specify additional
      arguments that are passed to the application in the <code>args</code>
      object (see below); the following are default arguments:</p>
      <ul>
        <li><code>app</code>: the path to the application description
        file;</li>
        <li><code>path</code>: the base path for files (defaults to
        <code>../</code> since the launcher application is in the
        <code>core/</code> directory);</li>
        <li><code>suffix</code>: the suffix for application files (defaults to
        <code>.xml</code>);</li>
        <li><code>dest</code>: the <code>id</code> attribute of the destination
        element for rendering. If no such element is found, then the document
        body is used. Hint: use <code>dest=</code> if you want to use the
        document body for rendering; the default is to use a <code>div</code>
        inside the launcher page.</li>
        <li><code>debug</code>: the debug level for messages; must be a
        positive integer; 0 for no debug messages.</li>
      </ul>
      <p>Running an SVG application is similar to running an HTML application.
      Use the pseudo-URL below:</p>
      <pre class="code">$BENDER_HOME/core/bender.<strong>svg</strong>?app=$RELATIVE_PATH</pre>
      <section id="running.extra-args">
        <h3>Extra arguments</h3>
        <p>Bender applications have <a
        href="#elements.app.properties">properties</a> that can be set
        through parameters of the form <code>e:<em>name</em></code>,
        <code>f:<em>name</em></code> or <code>b:<em>name</em></code>, where
        <em>name</em> is the name of the property, and the value is
        respectively any string, a number, or a boolean. For example if an
        application has a <code>size</code> property and a <code>color</code>
        property, these can be set as follows:</p>
        <pre
        class="code">$BENDER_HOME/core/bender.html?app=$RELATIVE_PATH<strong>&amp;f:size=32&amp;e:color=white</strong></pre>

      </section>

      <section id="running.including">
        <h3>Including an application into an existing document</h3>
        <p class="TODO">TODO</p>
      </section>
    </section>

    <section id="elements">
      <h2>Bender Elements</h2>

      <p>Bender elements are in the namespace</p>
      <pre class="code">http://bender.igel.co.jp</pre>

      <section id="elements.app">
        <h3><span class="elem">app</span></h3>
        <p>The top-level element for an application is <span
          class="elem">app</span>.</p>
        <div class="include-src" data-src="../core/tests/empty.xml">An empty
          application</div>
        <div class="include-src" data-src="../core/tests/hello.xml">Hello,
          World!</div>
        <div class="include-src" data-src="../core/tests/hello-svg.xml"
          data-suffix="svg">Hello, World! | SVG version</div>
      </section>

      <section id="elements.component">
        <h3><span class="elem">component</span></h3>
      </section>

      <section id="elements.content">
        <h3><span class="elem">content</span></h3>
        <p>Appears within the view of a component. This is a slot that will
        receive the content of a component instanciation node. A component may
        provide default content which is used if the instanciation node does
        not have content.</p>
        <p>A component may contain several content nodes; in that case, each
        node must have an <code>id</code> attribute. The instanciation node can
        then specify which content slot it refers to with a matching
        <code>ref</code> attribute.</p>
        <div class="include-src"
          data-src="../core/tests/content-id.xml">Content with id</div>
        <div class="include-src" data-component="true"
          data-src="../core/tests/components/label-button.xml">Component with two
          different content nodes and default content</div>
      </section>

      <section id="elements.get">
        <h3><span class="elem">get</span></h3>
      </section>

      <section id="elements.include">
        <h3><span class="elem">include</span></h3>
      </section>

      <section id="elements.local">
        <h3><span class="elem">local</span></h3>
      </section>

      <section id="elements.script">
        <h3><span class="elem">script</span></h3>
      </section>

      <section id="elements.set">
        <h3><span class="elem">set</span></h3>
      </section>

      <section id="elements.stylesheet">
        <h3><span class="elem">stylesheet</span></h3>
        <p>Style a component or application with CSS, either inline or with an
        external stylesheet at the URI given by the <code>href</code>
        attribute. Stylesheets are added in inclusion order and cascading rules
        apply.</p>
        <div class="include-src"
          data-src="../core/tests/stylesheet.xml">Inline stylesheet</div>
        <div class="include-src"
          data-src="../core/tests/stylesheet-href.xml">External stylesheet
          (<code>href</code> attribute)</div>
      </section>

      <section id="elements.title">
        <h3><span class="elem">title</span></h3>
        <p>A metadata element to give a title to an application, a component, a
        controller, a view, etc.</p>
        <div class="include-src" data-src="../core/tests/metadata.xml">An
          application with title and language metadata</div>
        <p class="TODO"><code>xml:lang</code> is not implemented yet at the
        application or component level.</p>
      </section>

      <section id="elements.view">
        <h3><span class="elem">view</span></h3>
        <p>This is the root element for the view of an application or a
        component.</p>
      </section>

      <section id="elements.watch">
        <h3><span class="elem">watch</span></h3>
      </section>

    </section>

    <section id="library">
      <h2>Components Library</h2>

      <section id="library.button">
        <h3>Button</h3>
        <div class="include-src" data-src="../lib/button.xml">Button
          library component</div>
      </section>

      <section id="library.check">
        <h3>Check</h3>
        <div class="include-src" data-src="../lib/check.xml">Checkbox
          library component</div>
      </section>

      <section id="library.integer">
        <h3>Integer box</h3>
        <div class="include-src" data-src="../lib/integer.xml">Integer box
          library component</div>
      </section>

      <section id="library.label">
        <h3>Label</h3>
        <div class="include-src" data-src="../lib/label.xml">Label
          library component</div>
      </section>

      <section id="library.led">
        <h3>LED</h3>
        <div class="include-src" data-src="../lib/label.xml">LED
          library component</div>
      </section>

    </section>

    <section id="js-library">
      <h2>Javascript library</h2>

      <section id="js-library.flexo">
        <h3>Flexo</h3>
        <p>The support library <code>core/flexo.js</code>, with all non-Bender
        specific code.</p>
      </section>

      <section id="js-library.bender">
        <h3>Bender</h3>
        <p>The main Javascript library <code>core/bender.js</code>, implementing the
        runtime and providing prototypes for Bender objects.</p>
      </section>

      <section id="js-library.controllers">
        <h3>Controllers</h3>
        <p>A library of controller delegates (timer, <span
          class="TODO">selection manager, clipboard manager, command
          manager</span>, etc.)</p>
      </section>

    </section>

    <section id="uncategorized">
      <h2>Uncategorized Examples</h2>
      <div class="include-src" data-src="../core/tests/alert.xml">Alert on
        @ready/@rendered events</div>
      <div class="include-src"
        data-src="../core/tests/component-href.xml">Including a component with
        href</div>
      <div class="include-src"
        data-src="../core/tests/component-include.xml">Including a
        component</div>
      <div class="include-src"
        data-src="../core/tests/component-inline.xml">Inline component</div>
      <div class="include-src"
        data-src="../core/tests/component-multiple.xml">Multiple
        components</div>
      <div class="include-src"
        data-src="../core/tests/content-id.xml">Content with id</div>
      <div class="include-src"
        data-src="../core/tests/dom-event.xml">DOM event</div>
      <div class="include-src"
        data-src="../core/tests/hello-include.xml">Including an app</div>
      <div class="include-src"
        data-src="../core/tests/instance-of.xml">instance-of attribute for
        controller</div>
      <div class="include-src" data-suffix="svg"
        data-src="../core/tests/hello-svg.xml">Hello, world in SVG</div>
      <div class="include-src"
        data-src="../core/tests/local-script.xml">Local script</div>
      <div class="include-src" data-suffix="svg"
        data-src="../core/tests/svg-button.xml">SVG Button component test</div>
      <div class="include-src" data-suffix="svg"
        data-src="../core/tests/svg-clock.xml">SVG Clock</div>
      <div class="include-src"
        data-src="../core/tests/watch-1.xml">Watch: display a value from the
        component</div>
      <div class="include-src"
        data-src="../core/tests/watch-2.xml">Watch: display a value from the
        component in two different ways</div>
      <div class="include-src"
        data-src="../core/tests/watch-3.xml">Watch: display a value from a
        controller</div>

      <section id="uncategorized.broken">
        <h3>Broken</h3>
        <div class="include-src" data-suffix="svg"
          data-src="../core/tests/drag.xml">Draggable component</div>
        <div class="include-src"
          data-src="../core/tests/integer.xml">Integer box component test</div>
      </section>

      <section id="uncategorized.todo">
        <h3>TODO</h3>
        <div class="include-src"
          data-src="../core/tests/todo/button-component.xml">A simple button
          component implemented with updates</div>
        <div class="include-src"
          data-src="../core/tests/todo/button.xml">A simple button implemented
          with updates</div>
        <div class="include-src"
          data-src="../core/tests/todo/canvas.xml">Canvas</div>
        <div class="include-src"
          data-src="../core/tests/todo/component-include.xml">Including a
          component [using update]</div>
        <div class="include-src"
          data-src="../core/tests/todo/component-multiple.xml">Multiple
          components [using update]</div>
        <div class="include-src"
          data-src="../core/tests/todo/dom-event.xml">DOM event</div>
      </section>
    </sections>

    <section id="examples">
      <h2>List of Examples</h2>
      <ul id="examples.list">
      </ul>
    </sections>

    <script>
      build_toc(document.getElementById("toc"), document.body, 2);
      build_examples_list(document.getElementById("examples.list"));
      get_examples(1);
      link_elements("#elements.{0}");
    </script>

  </body>
</html>
