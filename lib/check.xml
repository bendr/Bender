<component xmlns="http://bender.igel.co.jp" xmlns:f="http://bender.igel.co.jp/f"
  xmlns:e="http://bender.igel.co.jp/e" xmlns:html="http://www.w3.org/1999/xhtml"
  id="check">
  <title>Push button</title>
  <help>A checkbox with a label. A @checked event is sent anytime it is checked
    or unchecked. The checked attribute is set to undefined when unchecked
    (TODO: replace with a real boolean attribute)</help>
  <controller f:tabindex="0">
    <script>
      $_.handleEvent = function(e)
      {
        if (e.type === "change") {
          this.component.checked = this.outlets.checkbox.checked ? "checked" :
            undefined;
          this.notify("@checked", { checked: this.outlets.checkbox.checked });
        }
      };
    </script>
    <connect outlet="checkbox" target="c"/>
    <listen dom-event="change" source="c"/>
  </controller>
  <view>
    <html:label>
      <html:input type="checkbox" id="c" role="checkbox" tabindex="{tabindex}"
        checked="{checked}"/>
      <content/>
    </html:label>
  </view>
</component>
